// ============================================================================
// ملف Planet.h - تعريف كلاس الكوكب
// ============================================================================
// هذا الملف يحتوي على تعريف كلاس Planet الذي يمثل كوكباً في النظام الشمسي
// يتضمن جميع المتغيرات والدوال اللازمة لتمثيل كوكب مع أقماره وحلقاته
// ============================================================================

// حماية من التضمين المتكرر (Include Guard)
// تمنع تضمين الملف أكثر من مرة في نفس الوحدة
#ifndef PLANET_H
#define PLANET_H

// ============================================================================
// هيكل بيانات القمر (Moon Structure)
// ============================================================================
// هذا الهيكل يمثل قمراً يدور حول كوكب
// يحتوي على جميع المعلومات اللازمة لرسم القمر وحركته
// ============================================================================
struct Moon {
    double orbitRadius;    // نصف قطر مدار القمر حول الكوكب
    double size;           // حجم القمر (نصف القطر)
    double speed;          // سرعة دوران القمر حول الكوكب
    double color[3];       // لون القمر (RGB: الأحمر، الأخضر، الأزرق)
    const char* name;      // اسم القمر (نص ثابت)
    double initialAngle;   // زاوية البداية للقمر على مداره (بالراديان)
};

// ============================================================================
// كلاس الكوكب (Planet Class)
// ============================================================================
// هذا الكلاس يمثل كوكباً في النظام الشمسي
// يحتوي على جميع المعلومات اللازمة لرسم الكوكب وحركته
// ============================================================================
class Planet {
// ============================================================================
// القسم الخاص (Private Section)
// ============================================================================
// هذه المتغيرات والدوال غير متاحة من خارج الكلاس
// يمكن الوصول إليها فقط من داخل الكلاس
// ============================================================================
private:
    // ------------------------------------------------------------------------
    // المتغيرات الأساسية للكوكب
    // ------------------------------------------------------------------------
    double orbitRadius;        // نصف قطر المدار حول الشمس (المحور شبه الرئيسي)
    double orbitSpeed;         // سرعة الدوران حول الشمس (كلما زادت كلما كان أسرع)
    double size;               // حجم الكوكب (نصف القطر)
    double rotationSpeed;      // سرعة الدوران حول المحور (دوران الكوكب حول نفسه)
    double rotation;           // زاوية الدوران الحالية حول المحور (بالدرجات)
    double color[3];           // لون الكوكب (RGB: الأحمر، الأخضر، الأزرق)
    const char* name;          // اسم الكوكب (نص ثابت)
    
    // ------------------------------------------------------------------------
    // المتغيرات المتعلقة بالأقمار
    // ------------------------------------------------------------------------
    int numMoons;              // عدد الأقمار التابعة للكوكب
    Moon* moons;               // مصفوفة ديناميكية للأقمار (nullptr إذا لم يكن هناك أقمار)
    
    // ------------------------------------------------------------------------
    // المتغيرات المتعلقة بالحلقات
    // ------------------------------------------------------------------------
    bool hasRings;             // هل للكوكب حلقات؟ (true = نعم، false = لا)
    double ringInnerRadius;     // نصف القطر الداخلي للحلقات
    double ringOuterRadius;     // نصف القطر الخارجي للحلقات
    double ringColor[3];        // لون الحلقات (RGB: الأحمر، الأخضر، الأزرق)
    
    // ------------------------------------------------------------------------
    // المتغيرات الفلكية (البارامترات المدارية)
    // ------------------------------------------------------------------------
    double eccentricity;                // الانحراف المركزي (0 = دائرة، >0 = إهليلجي)
    double orbitalInclination;         // الميل المداري (بالدرجات)
    double axialTilt;                   // الميل المحوري (بالدرجات)
    double longitudeOfPerihelion;       // زاوية طول الحضيض (بالدرجات)
    
    // ------------------------------------------------------------------------
    // الدوال المساعدة الخاصة (Private Helper Functions)
    // ------------------------------------------------------------------------
    void drawText(double x, double y, double z, const char* text);  // رسم نص في الفضاء 3D
    void drawMoons(double time);                                    // رسم الأقمار
    void drawRings();                                               // رسم الحلقات

// ============================================================================
// القسم العام (Public Section)
// ============================================================================
// هذه الدوال متاحة من خارج الكلاس
// يمكن استدعاؤها من أي مكان في البرنامج
// ============================================================================
public:
    // ------------------------------------------------------------------------
    // دالة البناء (Constructor)
    // ------------------------------------------------------------------------
    // تقوم بإنشاء كوكب جديد وتهيئة جميع المتغيرات
    // المعاملات:
    //   oRadius: نصف قطر المدار حول الشمس
    //   oSpeed: سرعة الدوران حول الشمس
    //   sz: حجم الكوكب
    //   rSpeed: سرعة الدوران حول المحور
    //   r, g, b: لون الكوكب (RGB)
    //   n: اسم الكوكب
    //   moonCount: عدد الأقمار (0 = لا يوجد أقمار)
    //   moonData: مؤشر إلى مصفوفة بيانات الأقمار (nullptr إذا لم يكن هناك أقمار)
    //   rings: هل للكوكب حلقات؟
    //   rInner, rOuter: نصف القطر الداخلي والخارجي للحلقات
    //   rR, rG, rB: لون الحلقات (RGB)
    //   ecc: الانحراف المركزي
    //   incl: الميل المداري
    //   tilt: الميل المحوري
    //   lonPeri: زاوية طول الحضيض
    Planet(double oRadius, double oSpeed, double sz, double rSpeed, 
           double r, double g, double b, const char* n,
           int moonCount = 0, Moon* moonData = nullptr,
           bool rings = false, double rInner = 0, double rOuter = 0,
           double rR = 0, double rG = 0, double rB = 0,
           double ecc = 0.0, double incl = 0.0, double tilt = 0.0, double lonPeri = 0.0);
    
    // ------------------------------------------------------------------------
    // دالة الإتلاف (Destructor)
    // ------------------------------------------------------------------------
    // تقوم بحذف الكوكب من الذاكرة
    // تحرر الذاكرة المخصصة للأقمار
    ~Planet();
    
    // ------------------------------------------------------------------------
    // دوال Getter - للوصول إلى القيم الخاصة
    // ------------------------------------------------------------------------
    double getOrbitRadius() const;     // إرجاع نصف قطر المدار
    double getOrbitSpeed() const;       // إرجاع سرعة الدوران حول الشمس
    double getSize() const;             // إرجاع حجم الكوكب
    const char* getName() const;       // إرجاع اسم الكوكب
    
    // ------------------------------------------------------------------------
    // دوال الرسم والحركة
    // ------------------------------------------------------------------------
    void drawOrbitPath();                           // رسم مسار المدار الإهليلجي
    void draw(double time);                          // رسم الكوكب في موقعه الحالي
    void getPosition(double time, double& x, double& y, double& z);  // الحصول على موقع الكوكب
};

// إنهاء حماية التضمين المتكرر
#endif
